# Stack B (Dynamo tiered KV) Spill profile for H1/H2B/H4B/H5/H6 (Test_Plan_v3.3)
# - Targets a 4k prompt admit and larger sequence window for Llama 3.3 70B FP4
# - UMA KV budget: 4â€“8 GiB (T0+T1) to induce sustained tier2 traffic
stack: stackB_dynamo_tiered
model:
  name: llama3-70b
  precision: fp4
  max_input_len: 4096
  max_seq_len: 16384
  max_num_tokens: 32000
  max_batch_size: 4
endpoint:
  url: http://stackB-dynamo:9000/v1/completions  # Triton + Dynamo front-end
  protocol: triton_dynamo
runtime:
  kv_sharing_enabled: true
  dynamo:
    kv_block_size_bytes: 65536
    eviction_policy: lru
    tier0:
      type: uma
      capacity_bytes: 2GiB
    tier1:
      type: uma
      capacity_bytes: 4GiB
    tier2:
      type: nvme
      path: /nvme/kvbm/l70b
      allocate_bytes: 64GiB
    telemetry_enable: true
    telemetry_interval_ms: 200  # v3.3 cadence
telemetry:
  collect_gpu: true
  collect_nvme: true
  collect_sysmon: true
  collect_dynkv: true
